"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getYears = exports.getMonths = void 0;
const date_fns_1 = require("date-fns");
const getMonths = (start, end, current) => {
    const dropdownMonths = [];
    if ((0, date_fns_1.isSameYear)(start, end)) {
        const date = (0, date_fns_1.startOfMonth)(start);
        for (let month = start.getMonth(); month <= end.getMonth(); month++) {
            dropdownMonths.push((0, date_fns_1.setMonth)(date, month));
        }
    }
    else if ((0, date_fns_1.isSameYear)(current, end)) {
        const date = (0, date_fns_1.startOfMonth)(new Date());
        for (let month = 0; month <= end.getMonth(); month++) {
            dropdownMonths.push((0, date_fns_1.setMonth)(date, month));
        }
    }
    else if ((0, date_fns_1.isSameYear)(current, start)) {
        const date = (0, date_fns_1.startOfMonth)(start);
        for (let month = date.getMonth(); month <= 11; month++) {
            dropdownMonths.push((0, date_fns_1.setMonth)(date, month));
        }
    }
    else {
        const date = (0, date_fns_1.startOfMonth)(new Date());
        for (let month = 0; month <= 11; month++) {
            dropdownMonths.push((0, date_fns_1.setMonth)(date, month));
        }
    }
    if (!dropdownMonths.map((d) => d.getMonth()).includes(current.getMonth())) {
        dropdownMonths.push(current);
    }
    dropdownMonths.sort((a, b) => a.getMonth() - b.getMonth());
    return dropdownMonths;
};
exports.getMonths = getMonths;
const getYears = (start, end, currentYear) => {
    const years = [];
    const fromYear = start.getFullYear();
    const toYear = end.getFullYear();
    for (let year = fromYear; year <= toYear; year++) {
        years.push((0, date_fns_1.setYear)((0, date_fns_1.startOfYear)(new Date()), year));
    }
    if (fromYear > currentYear || toYear < currentYear) {
        years.push((0, date_fns_1.setYear)((0, date_fns_1.startOfYear)(new Date()), currentYear));
    }
    years.sort((a, b) => a.getFullYear() - b.getFullYear());
    return years;
};
exports.getYears = getYears;
//# sourceMappingURL=get-dates.js.map