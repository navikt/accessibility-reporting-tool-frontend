import{c as y,u as ee,f as te,j as C}from"./api.client.C1cBXBsd.js";import{a as ne}from"./urls.D33HFj31.js";import{r as i,R as s}from"./index.CfLG8xVc.js";const I=e=>y({"navds-typo--spacing":e.spacing,"navds-typo--truncate":e.truncate,"navds-typo--semibold":e.weight==="semibold",[`navds-typo--align-${e.align}`]:e.align,[`navds-typo--color-${e.textColor}`]:e.textColor,"navds-typo--visually-hidden":e.visuallyHidden,"navds-typo--uppercase":e.uppercase});var re=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};i.forwardRef((e,a)=>{var{className:r,size:t="medium",as:n="p",spacing:o,truncate:d,weight:c="regular",align:l,visuallyHidden:u,textColor:f}=e,v=re(e,["className","size","as","spacing","truncate","weight","align","visuallyHidden","textColor"]);return s.createElement(n,Object.assign({},v,{ref:a,className:y(r,"navds-body-long",`navds-body-long--${t}`,I({spacing:o,truncate:d,weight:c,align:l,visuallyHidden:u,textColor:f}))}))});var ae=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const le=i.forwardRef((e,a)=>{var{className:r,size:t="medium",as:n="p",spacing:o,truncate:d,weight:c="regular",align:l,visuallyHidden:u,textColor:f}=e,v=ae(e,["className","size","as","spacing","truncate","weight","align","visuallyHidden","textColor"]);return s.createElement(n,Object.assign({},v,{ref:a,className:y(r,"navds-body-short",`navds-body-short--${t}`,I({spacing:o,truncate:d,weight:c,align:l,visuallyHidden:u,textColor:f}))}))});var oe=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};i.forwardRef((e,a)=>{var{className:r,size:t="medium",spacing:n,uppercase:o,as:d="p",truncate:c,weight:l="regular",align:u,visuallyHidden:f,textColor:v}=e,m=oe(e,["className","size","spacing","uppercase","as","truncate","weight","align","visuallyHidden","textColor"]);return s.createElement(d,Object.assign({},m,{ref:a,className:y(r,"navds-detail",I({spacing:n,truncate:c,weight:l,align:u,visuallyHidden:f,textColor:v,uppercase:o}),{"navds-detail--small":t==="small"})}))});var se=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const ie=i.forwardRef((e,a)=>{var{className:r,size:t,spacing:n,as:o="p"}=e,d=se(e,["className","size","spacing","as"]);return s.createElement(o,Object.assign({},d,{ref:a,className:y("navds-error-message","navds-label",r,I({spacing:n}),{"navds-label--small":t==="small"})}))});var ce=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};i.forwardRef((e,a)=>{var{level:r="1",size:t,className:n,as:o,spacing:d,align:c,visuallyHidden:l,textColor:u}=e,f=ce(e,["level","size","className","as","spacing","align","visuallyHidden","textColor"]);const v=o??`h${r}`;return s.createElement(v,Object.assign({},f,{ref:a,className:y(n,"navds-heading",`navds-heading--${t}`,I({spacing:d,align:c,visuallyHidden:l,textColor:u}))}))});var de=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};i.forwardRef((e,a)=>{var{className:r,spacing:t,as:n="p"}=e,o=de(e,["className","spacing","as"]);return s.createElement(n,Object.assign({},o,{ref:a,className:y(r,"navds-ingress",{"navds-typo--spacing":!!t})}))});var ue=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const U=i.forwardRef((e,a)=>{var{className:r,size:t="medium",as:n="label",spacing:o,visuallyHidden:d,textColor:c}=e,l=ue(e,["className","size","as","spacing","visuallyHidden","textColor"]);return s.createElement(n,Object.assign({},l,{ref:a,className:y(r,"navds-label",I({spacing:o,visuallyHidden:d,textColor:c}),{"navds-label--small":t==="small"})}))});function B(e,a){const r=Object.entries(e).filter(([t])=>!a.includes(t));return Object.fromEntries(r)}const fe=globalThis?.document?i.useLayoutEffect:()=>{};let F=0;function ve(e){const[a,r]=i.useState(e),t=e||a;return i.useEffect(()=>{a==null&&(F+=1,r(`aksel-id-${F}`))},[a]),t}const M=s.useId;function T(e){var a;return M!==void 0?M().replace(/(:)/g,""):(a=ve(e))!==null&&a!==void 0?a:""}let D=0;function me(e){const[a,r]=i.useState(e),t=e||a;return i.useEffect(()=>{a==null&&(D+=1,r(`aksel-icon-${D}`))},[a]),t}const H=s.useId;function q(e){var a;return H!==void 0?H().replace(/(:)/g,""):(a=me(e))!==null&&a!==void 0?a:""}var be=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const A=i.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=be(e,["title","titleId"]);let o=q();return o=r?t||"title-"+o:void 0,i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":o},n),r?i.createElement("title",{id:o},r):null,i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 3.25a7.25 7.25 0 1 0 4.569 12.88l5.411 5.41a.75.75 0 1 0 1.06-1.06l-5.41-5.411A7.25 7.25 0 0 0 10.5 3.25M4.75 10.5a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))});var ye=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const pe=i.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=ye(e,["title","titleId"]);let o=q();return o=r?t||"title-"+o:void 0,i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":o},n),r?i.createElement("title",{id:o},r):null,i.createElement("path",{fill:"currentColor",d:"M6.53 5.47a.75.75 0 0 0-1.06 1.06L10.94 12l-5.47 5.47a.75.75 0 1 0 1.06 1.06L12 13.06l5.47 5.47a.75.75 0 1 0 1.06-1.06L13.06 12l5.47-5.47a.75.75 0 0 0-1.06-1.06L12 10.94z"}))});function K(e,a,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),r===!1||!n.defaultPrevented)return a?.(n)}}function ge(e){return a=>{e.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}function V(...e){return s.useCallback(ge(e),e)}var he=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Oe=i.forwardRef((e,a)=>{var{className:r,size:t="medium",title:n="venter...",transparent:o=!1,variant:d="neutral",id:c}=e,l=he(e,["className","size","title","transparent","variant","id"]);const u=T();return s.createElement("svg",Object.assign({"aria-labelledby":c??`loader-${u}`,ref:a,className:y("navds-loader",r,`navds-loader--${t}`,`navds-loader--${d}`,{"navds-loader--transparent":o}),focusable:"false",viewBox:"0 0 50 50",preserveAspectRatio:"xMidYMid"},B(l,["children"])),s.createElement("title",{id:c??`loader-${u}`},n),s.createElement("circle",{className:"navds-loader__background",xmlns:"http://www.w3.org/2000/svg",cx:"25",cy:"25",r:"20",fill:"none"}),s.createElement("circle",{className:"navds-loader__foreground",cx:"25",cy:"25",r:"20",fill:"none",strokeDasharray:"50 155"}))});var _e=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const we=i.forwardRef((e,a)=>{var{as:r="button",variant:t="primary",className:n,children:o,size:d="medium",loading:c=!1,disabled:l,style:u,icon:f,iconPosition:v="left"}=e,m=_e(e,["as","variant","className","children","size","loading","disabled","style","icon","iconPosition"]);const p=i.useRef(null),[b,_]=i.useState(),j=V(p,a);fe(()=>{if(c){const O=window.requestAnimationFrame(()=>{var E,x;_((x=(E=p?.current)===null||E===void 0?void 0:E.getBoundingClientRect())===null||x===void 0?void 0:x.width)});return()=>{_(void 0),cancelAnimationFrame(O)}}},[c,o]);const h=l??b?B(m,["href"]):m,N=O=>{O.key===" "&&!l&&!b&&O.currentTarget.click()};return s.createElement(r,Object.assign({},r!=="button"?{role:"button"}:{},h,{ref:j,onKeyUp:K(h.onKeyUp,N),className:y(n,"navds-button",`navds-button--${t}`,`navds-button--${d}`,{"navds-button--loading":b,"navds-button--icon-only":!!f&&!o,"navds-button--disabled":l??b}),style:Object.assign(Object.assign({},u),{width:b}),disabled:l??b?!0:void 0}),b?s.createElement(Oe,{size:d}):s.createElement(s.Fragment,null,f&&v==="left"&&s.createElement("span",{className:"navds-button__icon"},f),o&&s.createElement(U,{as:"span",size:d==="medium"?"medium":"small"},o),f&&v==="right"&&s.createElement("span",{className:"navds-button__icon"},f)))}),je=i.createContext(null),Ee=(e,a)=>{var r,t,n;const{size:o,error:d,errorId:c}=e,l=i.useContext(je),u=T(),f=(r=e.id)!==null&&r!==void 0?r:`${a}-${u}`,v=c??`${a}-error-${u}`,m=`${a}-description-${u}`,p=l?.disabled||e.disabled,b=(l?.readOnly||e.readOnly)&&!p||void 0,_=!p&&!b&&!!(d||l?.error),j=!p&&!b&&!!d&&typeof d!="boolean",h=Object.assign({},_?{"aria-invalid":!0}:{});return e?.required,{showErrorMsg:j,hasError:_,errorId:v,inputDescriptionId:m,size:(t=o??l?.size)!==null&&t!==void 0?t:"medium",readOnly:b,inputProps:Object.assign(Object.assign({id:f},h),{"aria-describedby":y(e["aria-describedby"],{[m]:!!e?.description&&typeof e?.description=="string",[v]:j,[(n=l?.errorId)!==null&&n!==void 0?n:""]:_&&!!l?.error})||void 0,disabled:p})}},G=i.createContext(null);var xe=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const W=i.forwardRef((e,a)=>{var r,{className:t,children:n,disabled:o,onClick:d}=e,c=xe(e,["className","children","disabled","onClick"]);const l=i.useContext(G);if(l===null)return console.warn("<Search.Button> has to be wrapped in <Search />"),null;const{size:u,variant:f,handleClick:v}=l;return s.createElement(we,Object.assign({type:"submit"},c,{ref:a,size:u,variant:f==="secondary"?"secondary":"primary",className:y("navds-search__button-search",t),disabled:(r=l?.disabled)!==null&&r!==void 0?r:o,onClick:K(d,v),icon:s.createElement(A,Object.assign({},n?{"aria-hidden":!0}:{title:"Søk"}))}),n)});var Se=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Q=i.forwardRef((e,a)=>{const{inputProps:r,size:t="medium",inputDescriptionId:n,errorId:o,showErrorMsg:d,hasError:c}=Ee(e,"searchfield"),{className:l,hideLabel:u=!0,label:f,description:v,value:m,clearButtonLabel:p,onClear:b,clearButton:_=!0,children:j,variant:h="primary",defaultValue:N,onChange:O,onSearchClick:E,htmlSize:x,role:R}=e,X=Se(e,["className","hideLabel","label","description","value","clearButtonLabel","onClear","clearButton","children","variant","defaultValue","onChange","onSearchClick","htmlSize","role"]),P=i.useRef(null),Y=V(P,a),[$,J]=i.useState(N??""),z=i.useCallback(g=>{m===void 0&&J(g),O?.(g)},[O,m]),L=i.useCallback(g=>{var w,S;b?.(g),z(""),P.current&&((S=(w=P.current)===null||w===void 0?void 0:w.focus)===null||S===void 0||S.call(w))},[z,b]),Z=()=>{E?.(`${m??$}`)};return s.createElement("div",{onKeyDown:g=>{var w,S;g.key==="Escape"&&(!((w=P.current)===null||w===void 0)&&w.value&&((S=P.current)===null||S===void 0?void 0:S.value)!==""&&g.preventDefault(),L({trigger:"Escape",event:g}))},className:y(l,"navds-form-field",`navds-form-field--${t}`,"navds-search",{"navds-search--error":c,"navds-search--disabled":!!r.disabled,"navds-search--with-size":!!x})},s.createElement(U,{htmlFor:r.id,size:t,className:y("navds-form-field__label",{"navds-sr-only":u})},f),!!v&&s.createElement(le,{className:y("navds-form-field__description",{"navds-sr-only":u}),id:n,size:t,as:"div"},v),s.createElement("div",{className:"navds-search__wrapper"},s.createElement("div",{className:"navds-search__wrapper-inner"},h==="simple"&&s.createElement(A,{"aria-hidden":!0,className:"navds-search__search-icon"}),s.createElement("input",Object.assign({ref:Y},B(X,["error","errorId","size","readOnly"]),r,{value:m??$,onChange:g=>z(g.target.value),type:"search",role:R??"searchbox",className:y(l,"navds-search__input",`navds-search__input--${h}`,"navds-text-field__input","navds-body-short",`navds-body-short--${t}`)},x?{size:Number(x)}:{})),(m??$)&&_&&s.createElement("button",{type:"button",onClick:g=>L({trigger:"Click",event:g}),className:"navds-search__button-clear"},s.createElement("span",{className:"navds-sr-only"},p||"Tøm"),s.createElement(pe,{"aria-hidden":!0}))),s.createElement(G.Provider,{value:{size:t,disabled:r.disabled,variant:h,handleClick:Z}},j||h!=="simple"&&s.createElement(W,null))),s.createElement("div",{className:"navds-form-field__error",id:o,"aria-relevant":"additions removals","aria-live":"polite"},d&&s.createElement(ie,{size:t},e.error)))});Q.Button=W;const Ce="_searchContainer_1g8pu_1",Ie="_searchInput_1g8pu_9",Ne="_SearchResults_1g8pu_15",Pe="_SearchBulletRemoval_1g8pu_22",Re="_FormattingResults_1g8pu_26",k={searchContainer:Ce,searchInput:Ie,SearchResults:Ne,SearchBulletRemoval:Pe,FormattingResults:Re},Be=()=>{const{data:e,isLoading:a}=ee({url:`${ne}/reports/list`},te);console.log(e);const[r,t]=i.useState(""),[n,o]=i.useState([]),d=l=>{const u=l.target.value;if(t(u),u.trim()==="")o([]);else{const f=e?.filter(v=>v.navn.toLowerCase().includes(u.toLowerCase()));o(f||[])}},c=()=>{t(""),o([])};return e?C.jsxs("div",{children:[C.jsx("form",{role:"search",onChange:d,children:C.jsx(Q,{label:"Søk",variant:"simple",onClear:c,placeholder:"Søk"})}),C.jsx("ul",{className:k.SearchBulletRemoval,children:n.map(l=>C.jsx("li",{className:k.SearchResults,children:C.jsx("a",{href:l.url,className:k.FormattingResults,children:l.navn})},l.navn))})]}):C.jsx("div",{children:"Loading..."})};export{Be as default};
